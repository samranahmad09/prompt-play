/*
  Deep Work Extension Styles
  Theme: Dark / Cyberpunk / Clean Glass
  Techniques: CSS Variables, Glassmorphism, Grid/Flex, Animations
*/

:root {
  --dw-bg: #0b0f14;
  --dw-bg-2: #0f141b;
  --dw-panel: rgba(255,255,255,0.06);
  --dw-panel-hover: rgba(255,255,255,0.10);
  --dw-border: rgba(255,255,255,0.14);
  --dw-text: #e6f1ff;
  --dw-text-dim: #9bb0c9;
  --dw-accent: #7c4dff;
  --dw-accent-2: #00ffd1;
  --dw-danger: #ff4d6d;
  --dw-success: #00ffa2;
  --dw-shadow: 0 10px 30px rgba(0,0,0,0.45);
  --dw-radius: 14px;
  --dw-blur: 18px;
}

/* Animations */
@keyframes dw-fade-in { from { opacity: 0 } to { opacity: 1 } }
@keyframes dw-slide-up { from { transform: translateY(12px); opacity: 0 } to { transform: translateY(0); opacity: 1 } }
@keyframes dw-neon { 0%, 100% { box-shadow: 0 0 0 rgba(124,77,255,0) } 50% { box-shadow: 0 0 28px rgba(124,77,255,0.45) } }
@keyframes dw-pulse { 0% { transform: scale(1) } 50% { transform: scale(1.03) } 100% { transform: scale(1) } }

.fade-in { animation: dw-fade-in .5s ease both }
.slide-up { animation: dw-slide-up .6s cubic-bezier(.2,.8,.2,1) both }

/* Base */
.dw-body { background: linear-gradient(160deg, var(--dw-bg), var(--dw-bg-2)); color: var(--dw-text); min-width: 340px; margin: 0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; }

.dw-app { padding: 16px; display: grid; gap: 16px; }

.dw-header { display: flex; align-items: center; justify-content: space-between; }
.dw-brand { display: flex; align-items: center; gap: 12px; }
.dw-logo { width: 36px; height: 36px; filter: drop-shadow(0 6px 16px rgba(124,77,255,.35)); }
.dw-title { font-size: 18px; margin: 0; letter-spacing: .3px; }
.dw-subtitle { margin: 0; color: var(--dw-text-dim); font-size: 12px; }

.glass { background: var(--dw-panel); border: 1px solid var(--dw-border); border-radius: var(--dw-radius); backdrop-filter: blur(var(--dw-blur)) saturate(120%); box-shadow: var(--dw-shadow); }

.dw-main { padding: 16px; display: grid; gap: 16px; }
.dw-status { display: grid; gap: 10px; }
.dw-chip { display: inline-flex; align-items: center; justify-content: center; padding: 6px 10px; border-radius: 999px; background: linear-gradient(135deg, rgba(124,77,255,.24), rgba(0,255,209,.18)); border: 1px solid var(--dw-border); font-weight: 600; letter-spacing: .5px; width: fit-content; }
.dw-detail p { margin: 0; color: var(--dw-text-dim); }

.dw-h2 { font-size: 12px; color: var(--dw-text-dim); text-transform: uppercase; letter-spacing: .12em; margin: 8px 0; }
.dw-list { margin: 0; padding-left: 18px; display: grid; gap: 6px; }
.dw-list li { color: var(--dw-text); opacity: .9; }

.dw-footer { display: flex; align-items: center; justify-content: space-between; }
.dw-footnote { color: var(--dw-text-dim); font-size: 11px; }

/* Button */
.dw-btn { appearance: none; border: 1px solid var(--dw-border); color: var(--dw-text); background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02)); border-radius: 12px; padding: 8px 12px; cursor: pointer; transition: transform .2s ease, border-color .2s ease, box-shadow .2s ease; box-shadow: 0 4px 14px rgba(0,0,0,.3); }
.dw-btn:hover { transform: translateY(-1px); border-color: rgba(124,77,255,.6); box-shadow: 0 10px 24px rgba(124,77,255,.25); }
.dw-btn:active { transform: translateY(0); }
.dw-btn:focus-visible { outline: none; box-shadow: 0 0 0 3px rgba(0,255,209,.4), 0 8px 26px rgba(0,255,209,.25); }

/* Toggle Switch */
.dw-switch-input { position: absolute; opacity: 0; pointer-events: none; }
.dw-switch-label { position: relative; width: 76px; height: 36px; display: inline-block; cursor: pointer; }
.dw-switch-track { position: absolute; inset: 0; background: radial-gradient(200% 120% at 0% 50%, rgba(124,77,255,.45), rgba(124,77,255,.12) 50%), rgba(255,255,255,.04); border: 1px solid var(--dw-border); border-radius: 999px; transition: background .3s ease, border-color .3s ease; backdrop-filter: blur(12px); }
.dw-switch-thumb { position: absolute; top: 4px; left: 4px; width: 28px; height: 28px; border-radius: 50%; background: linear-gradient(145deg, #1b1f27, #2a2f39); border: 1px solid rgba(255,255,255,.18); box-shadow: inset 0 0 12px rgba(0,0,0,.5), 0 8px 22px rgba(124,77,255,.35); transition: transform .28s cubic-bezier(.2,.8,.2,1), background .28s ease, box-shadow .28s ease; }
.dw-switch-glow { position: absolute; inset: -8px; border-radius: 999px; pointer-events: none; filter: blur(14px); opacity: 0; background: radial-gradient(60% 80% at 30% 50%, rgba(124,77,255,.8), rgba(0,255,209,.0)); transition: opacity .35s ease; }

/* Focus and hover */
.dw-switch-label:hover .dw-switch-track { border-color: rgba(124,77,255,.55); }
.dw-switch-input:focus-visible + .dw-switch-label { outline: none; }
.dw-switch-input:focus-visible + .dw-switch-label .dw-switch-track { border-color: rgba(0,255,209,.9); box-shadow: 0 0 0 3px rgba(0,255,209,.35); }

/* Checked state */
.dw-switch-input:checked + .dw-switch-label .dw-switch-thumb { transform: translateX(40px); background: linear-gradient(145deg, #162028, #1e2832); box-shadow: inset 0 0 14px rgba(0,255,209,.35), 0 8px 22px rgba(0,255,209,.35); }
.dw-switch-input:checked + .dw-switch-label .dw-switch-track { background: radial-gradient(200% 120% at 100% 50%, rgba(0,255,209,.45), rgba(0,255,209,.12) 50%), rgba(255,255,255,.04); border-color: rgba(0,255,209,.55); }
.dw-switch-input:checked + .dw-switch-label .dw-switch-glow { opacity: 1; animation: dw-neon 1.8s ease-in-out infinite; }

/* Inputs (glow focus requirement) */
input[type=text], input[type=search], input[type=number], textarea { background: rgba(255,255,255,.04); border: 1px solid var(--dw-border); border-radius: 10px; color: var(--dw-text); padding: 8px 10px; transition: border-color .2s, box-shadow .2s; }
input[type=text]:focus, input[type=search]:focus, input[type=number]:focus, textarea:focus { outline: none; border-color: rgba(0,255,209,.6); box-shadow: 0 0 0 3px rgba(0,255,209,.25); }

/* Content page dark theme (injected) */
html.deepwork-dark, body.deepwork-dark { background-color: #121417 !important; color-scheme: dark; }
#deepwork-veil { position: fixed; inset: 0; pointer-events: none; background: linear-gradient(180deg, rgba(0,0,0,.22), rgba(0,0,0,.28)); backdrop-filter: saturate(110%) brightness(.98); z-index: 2147483646; }
#deepwork-banner { position: fixed; right: 16px; bottom: 16px; padding: 8px 12px; font-size: 12px; border-radius: 999px; background: rgba(18,20,23,.85); color: #bfe9ff; border: 1px solid rgba(255,255,255,.14); box-shadow: 0 8px 24px rgba(0,0,0,.35); z-index: 2147483647; }
#deepwork-banner strong { color: #7cffe0; }

/* Avoid interfering with page layout when not active */
html:not(.deepwork-dark) #deepwork-veil, html:not(.deepwork-dark) #deepwork-banner { display: none !important; }
