document.addEventListener('DOMContentLoaded', function() { chrome.tabs.query({active: true, currentWindow: true}, function(tabs) { chrome.scripting.executeScript({target: {tabId: tabs[0].id}, function: extractMetaData}); }); document.getElementById('copy-button').addEventListener('click', copyToClipboard);});function extractMetaData() { const metaTitle = document.querySelector('title')?.innerText; const metaDescription = document.querySelector('meta[name="description"]')?.getAttribute('content'); const canonical = document.querySelector('link[rel="canonical"]')?.getAttribute('href'); const h1 = document.querySelector('h1')?.innerText; chrome.runtime.sendMessage({ metaTitle, metaDescription, canonical, h1 });}function copyToClipboard() { const table = document.getElementById('meta-data'); const data = {}; for (let row of table.rows) { const key = row.cells[0].innerText; const value = row.cells[1].innerText; data[key] = value; } navigator.clipboard.writeText(JSON.stringify(data));}chrome.runtime.onMessage.addListener((message) => { const metaDataTable = document.getElementById('meta-data'); metaDataTable.innerHTML += `<tr><td class='py-2'>Meta Title</td><td class='py-2'>${message.metaTitle || 'N/A'}</td></tr>`; metaDataTable.innerHTML += `<tr><td class='py-2'>Meta Description</td><td class='py-2'>${message.metaDescription || 'N/A'}</td></tr>`; metaDataTable.innerHTML += `<tr><td class='py-2'>Canonical Tag</td><td class='py-2'>${message.canonical || 'N/A'}</td></tr>`; metaDataTable.innerHTML += `<tr><td class='py-2'>H1 Header</td><td class='py-2'>${message.h1 || 'N/A'}</td></tr>`; });